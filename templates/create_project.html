{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow">
                <div class="card-header bg-dark text-white">
                    <h3 class="mb-0">üé¨ –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞</h3>
                </div>
                <div class="card-body">
                    
                    <form method="POST">
                        <div class="mb-3">
                            <label for="title" class="form-label fw-bold">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:</label>
                            <input type="text" class="form-control" id="title" name="title" required 
                                   placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö—É—Ä—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞, –ò–≤–∞–Ω–æ–≤">
                        </div>

                        <div class="mb-3">
                            <label for="description" class="form-label fw-bold">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                            <textarea class="form-control" id="description" name="description" rows="3" 
                                      placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—ä–µ–º–æ–∫..."></textarea>
                        </div>

                        <div class="mb-3">
                            <label for="start_date" class="form-label fw-bold">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ —Å—ä–µ–º–æ–∫:</label>
                            <input type="date" class="form-control" id="start_date" name="start_date" required>
                        </div>

                        <div class="mb-4">
                            <label class="form-label fw-bold">–°—ä–µ–º–æ—á–Ω–∞—è –≥—Ä—É–ø–ø–∞ (–£—á–∞—Å—Ç–Ω–∏–∫–∏):</label>
                            <div class="card p-3 bg-light" style="max-height: 250px; overflow-y: auto;">
                                {% for user in users %}
                                    {% if user.id != current_user.id %}
                                    <div class="form-check d-flex align-items-center mb-2">
                                        <input class="form-check-input me-2" type="checkbox" name="participants" value="{{ user.id }}" id="user_{{ user.id }}" style="cursor: pointer;">
                                        
                                        <label class="form-check-label w-100" for="user_{{ user.id }}" style="cursor: pointer;">
                                            <span class="fw-bold">{{ user.username }}</span>
                                            
                                            {% if user.role == 'admin' %}
                                                <span class="badge bg-danger ms-2">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</span>
                                            {% elif user.role == 'teacher' %}
                                                <span class="badge bg-primary ms-2">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å</span>
                                            {% elif user.role == 'employee' %}
                                                <span class="badge bg-warning text-dark ms-2">–°–æ—Ç—Ä—É–¥–Ω–∏–∫</span>
                                            {% elif user.role == 'student' %}
                                                <span class="badge bg-info text-dark ms-2">–°—Ç—É–¥–µ–Ω—Ç</span>
                                            {% else %}
                                                <span class="badge bg-secondary ms-2">{{ user.role }}</span>
                                            {% endif %}
                                        </label>
                                    </div>
                                    {% endif %}
                                {% endfor %}
                            </div>
                            <div class="form-text">–û—Ç–º–µ—Ç—å—Ç–µ –≥–∞–ª–æ—á–∫–∞–º–∏ —Ç–µ—Ö, –∫—Ç–æ –±—É–¥–µ—Ç —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ.</div>
                        </div>

                        <div class="d-flex justify-content-between mt-4 border-top pt-3">
                            <a href="{{ url_for('project_list') }}" class="btn btn-secondary px-4">
                                ‚Üê –û—Ç–º–µ–Ω–∞
                            </a>
                            <button type="submit" class="btn btn-success px-4">
                                –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç ‚ú®
                            </button>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}